{"ast":null,"code":"var _jsxFileName = \"/Users/adamoreilly/Desktop/SP2020/yelp/client/src/components/OTP.jsx\";\nimport React, { useState, useEffect } from \"react\";\n\nconst OTP = props => {\n  const [otp, setOtp] = useState();\n  const [cursorPosition, setCursorPosition] = useState();\n\n  const inputChangeHandler = e => {\n    setCursorPosition(e.target.selectionStart - 1);\n\n    if (!isNaN(e.target.value)) {\n      setOtp(e.target.value);\n      props.otpHandler(otp);\n    }\n  };\n\n  const caretHandler = e => {\n    //console.log(e.target.selectionStart)\n    if (Array.from(String(otp), Number).length > e.target.selectionStart) setCursorPosition(e.target.selectionStart);\n  };\n\n  const backspaceHandler = e => {\n    if (e.keyCode == 8) {\n      e.preventDefault();\n      const numberArray = Array.from(String(otp), Number);\n      numberArray.splice(cursorPosition, 1);\n\n      if (numberArray.length !== 0) {\n        const newOTP = Number(numberArray.join(\"\"));\n        setOtp(newOTP);\n        props.otpHandler(otp);\n        setCursorPosition(cursorPosition - 1);\n      }\n\n      if (numberArray.length === 0) {\n        setOtp('');\n        props.otpHandler(otp);\n      }\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"otp\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"input\",\n    type: \"tel\",\n    minLength: \"1\",\n    maxLength: \"6\",\n    size: \"6\",\n    value: otp,\n    onKeyDown: backspaceHandler,\n    onSelect: caretHandler,\n    pattern: \"[1-9]{6}\",\n    onChange: inputChangeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"view\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, otp && Array.from(otp.toString()).map((number, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    className: \"fakeView\" + (cursorPosition === index ? \" caret\" : \"\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, number))));\n};\n\nexport default OTP;","map":{"version":3,"sources":["/Users/adamoreilly/Desktop/SP2020/yelp/client/src/components/OTP.jsx"],"names":["React","useState","useEffect","OTP","props","otp","setOtp","cursorPosition","setCursorPosition","inputChangeHandler","e","target","selectionStart","isNaN","value","otpHandler","caretHandler","Array","from","String","Number","length","backspaceHandler","keyCode","preventDefault","numberArray","splice","newOTP","join","toString","map","number","index"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nconst OTP = (props) => {\n  const [otp, setOtp] = useState();\n  const [cursorPosition, setCursorPosition] = useState();\n\n\n  const inputChangeHandler = e => {\n      setCursorPosition((e.target.selectionStart)-1);\n      if(!isNaN(e.target.value)){\n      setOtp(e.target.value); \n      props.otpHandler(otp)\n      }\n  };\n\n  const caretHandler = e => {\n    //console.log(e.target.selectionStart)\n   if(Array.from(String(otp), Number).length>e.target.selectionStart)\n    setCursorPosition(e.target.selectionStart);\n  };\n\n  const backspaceHandler = e => {\n    if (e.keyCode == 8) {\n      e.preventDefault();\n\n      const numberArray = Array.from(String(otp), Number);\n      numberArray.splice(cursorPosition, 1);\n      if (numberArray.length !== 0) {\n        const newOTP = Number(numberArray.join(\"\"));\n        setOtp(newOTP);\n       props.otpHandler(otp)\n        setCursorPosition(cursorPosition-1);\n      }\n      if (numberArray.length === 0) {\n        setOtp('');\n        props.otpHandler(otp)\n      }\n    }\n  };\n  return (\n    <div className=\"otp\">\n      <input\n        className=\"input\"\n        type=\"tel\"\n        minLength=\"1\"\n        maxLength=\"6\"\n        size=\"6\"\n        value={otp}\n        onKeyDown={backspaceHandler}\n        onSelect={caretHandler}\n         pattern=\"[1-9]{6}\"\n        onChange={inputChangeHandler}\n      />\n      <div className=\"view\">\n        {otp &&\n          Array.from(otp.toString()).map((number, index) => (\n            <div\n            key={index}\n              className={\n                \"fakeView\" + (cursorPosition === index ? \" caret\" : \"\")\n              }\n            >\n              {number}\n            </div>\n          ))}\n      </div>\n    </div>\n  );\n};\n\nexport default OTP;"]},"metadata":{},"sourceType":"module"}